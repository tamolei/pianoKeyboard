"use strict";!function(){var e=!1,n=getComputedStyle(document.body).getPropertyValue("--accent-color"),l=getComputedStyle(document.body).getPropertyValue("--default-color"),t=document.querySelector(".kickbox"),u=document.querySelector(".snarebox"),o=document.querySelector(".highhatbox"),a=document.querySelector(".bassbox"),r=document.querySelector(".pizzbox"),s=document.getElementById("play-btn"),c=document.getElementById("bpm-range"),i=document.getElementById("swing-range"),p=document.getElementById("filter-range"),y=c.value,d=i.value,g=p.value,m=new Tone.AutoWah({baseFrequency:90,octaves:8,sensitivity:.1,Q:6,gain:3,follower:{attack:.1,release:.2},wet:.3}).toMaster();m.Q.value=3;var T=new Tone.Phaser({frequency:.1,octaves:6,stages:10,Q:3,baseFrequency:350,wet:.3}).toMaster(),B=new Tone.Chorus({frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,wet:.3}),C=new Tone.PingPongDelay({delayTime:"12n",maxDelayTime:1,wet:.1}).toMaster(),v=new Tone.Compressor({threshold:-20,ratio:12,attack:0,release:.3}),G=new Tone.Filter({type:"lowshelf",frequency:90,Q:1,gain:20}),f=new Tone.MonoSynth({volume:-5,oscillator:{type:"fmsquare5",modulationType:"triangle",modulationIndex:2,harmonicity:.501},filter:{Q:1,type:"lowpass",rolloff:-24},envelope:{attack:.01,decay:.1,sustain:.4,release:2},filterEnvelope:{attack:.01,decay:.1,sustain:.8,release:1.5,baseFrequency:50,octaves:4.4}}).chain(m),h=new Tone.Sampler({D4:"snare.[mp3|ogg]",C3:"kick.[mp3|ogg]",G3:"hh.[mp3|ogg]",A3:"hho.[mp3|ogg]"},{volume:11,release:1,baseUrl:"./audio/505/"}).chain(m,T),w=new Tone.MonoSynth({volume:-5,oscillator:{type:"sawtooth4"},filter:{Q:3,type:"highpass",rolloff:-12},envelope:{attack:.01,decay:.3,sustain:.3,release:.9},filterEnvelope:{attack:.01,decay:.1,sustain:0,release:.1,baseFrequency:800,octaves:-1.2}}).chain(C,B),F=new Tone.Sequence(function(e,n){S(r),w.triggerAttackRelease(n,"10hz",e)},["C#4",["D4","C#4"],["C#4","D4"],["C#4","C#4"],["D4","C#4"],["C#4","C#4"],["B#3","C#4"],["C#4","C#4"],"C#4",["D4","C#4"],["C#4","D4"],["C#4","C#4"],["D4","C#4"],["C#4","C#4"],["B#3","C#4"],["C#4","C#4"],"B3",["B#3","B3"],["B3","B#3"],["B3","B3"],["B#3","B3"],["B3","B3"],["A#3","B3"],["B3","B3"],"B3",["B#3","B3"],["B3","B#3"],["B3","B3"],["B#3","B3"],["B3","B3"],["A#3","B3"],["B3","B3"]],"16n"),b=new Tone.Sequence(function(e,n){S(a),f.triggerAttackRelease(n,"10hz",e)},[["F#3","F#3"],null,["F#3","F#3"],null,["F#3","F#3"],null,null,null,["F#3","F#3"],null,null,null,["F#3","F#3"],null,null,null,["E3","E3"],null,["E3","E3"],null,["E3","E3"],null,null,null,["E3","E3"],null,null,null,["E3","E3"],null,null,null,["F#3","F#3"],null,["F#3","F#3"],null,["F#3","F#3"],null,null,null,["F#3","F#3"],null,null,null,["F#3","F#3"],null,null,null,["G3","G3"],null,["G3","G3"],null,["G3","G3"],null,null,null,["G3","G3"],null,null,null,["G3","G3"],null,null,null],"16n"),E=new Tone.Sequence(function(e,n){S(o),h.triggerAttackRelease(n,"4n",e)},[["G3",null],["G3",null],[null,"G3"],[null,["A3",null]],["G3",null],["G3","G3"],["G3","G3"],["G3","G3"],["G3",null],["G3",null],[null,"G3"],[null,["A3",null]],["G3",null],["G3","G3"],["G3","G3"],["G3","G3"]],"16n"),q=new Tone.Sequence(function(e,n){S(u),h.triggerAttackRelease("D4","4n",e)},["D4"],"4n"),k=new Tone.Sequence(function(e,n){S(t),h.triggerAttackRelease("C3","4n",e)},["C3",null,null,null,["C3","C3"],null,null,null],"16n");function S(e){e.style.backgroundColor=n,setTimeout(function(){e.style.backgroundColor=l},100)}F.start(),b.start(),q.start("8n"),k.start(),E.start(),c.addEventListener("input",function(){y=c.value,Tone.Transport.bpm.value=y}),i.addEventListener("input",function(){d=i.value,Tone.Transport.swing=d}),p.addEventListener("input",function(){g=p.value,w.filterEnvelope.baseFrequency=g}),Tone.Master.chain(G,v),Tone.Transport.bpm.value=y,Tone.Transport.swing=d,Tone.Transport.swingSubdivision="16n",Tone.Transport.loopStart=0,s.addEventListener("click",function(){e?(e=!1,s.value="play",Tone.Transport.stop()):(e=!0,s.value="stop",Tone.Master.mute=!1,Tone.Transport.start("+0.1"))})}();